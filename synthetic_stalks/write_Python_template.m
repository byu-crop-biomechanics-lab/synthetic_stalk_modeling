% write_Python_template.m: Use Christopher's Python script for taking
% cross-section points and running an Abaqus case and make a string array
% that can be used to 


{
    'from part import *';
    'from material import *
from section import *
from optimization import *
from assembly import *
from step import *
from interaction import *
from load import *
from mesh import *
from job import *
from sketch import *
from visualization import *
from connectorBehavior import *


########################User-defined Model-Specific Features #######################
jobname = 'Stalk-A3'				#name of stalk part (will also be name of job and odb file)
modelname = jobname					#name of model
ID = 1								#Stalk ID number
case_no = 1							#case number (depending on case numbering convention you choose)
filename = 'C:\Temp\Results.txt'	#name of output text file (must match looper script)
SeedSize = 0.001					#mesh seed size of part
PlatenMovement = 0.0001				#deflection of part
rindE = 100							#rind modulus
pithE = 10							#rind modulus
RP1x = 12.821E-03					#x location of reference point 1
RP1y = 22.276E-03					#y location of reference point 1
RP2x = 13.502E-03					#x location of reference point 1
RP2y = 2.846E-03					#y location of reference point 1
influence = 1.00E-03				#influence area of fake contact constraint
######################################################################################

#Define additional parameters
PartName = 'Stalk'
InstanceName = PartName + '-1'
odbname = jobname + '.odb'

#Creat new model
mdb.Model(modelType=STANDARD_EXPLICIT, name=modelname)

#Define outer stalk geometry from spline
mdb.models[modelname].ConstrainedSketch(name='__profile__', sheetSize=0.05)
mdb.models[modelname].sketches['__profile__'].sketchOptions.setValues(
    decimalPlaces=3)

####################### copy / paste in the x-y data for the outer spline here #######################
mdb.models[modelname].sketches['__profile__'].Spline(points=(
	(0.0234,0.013365),(0.023386,0.01332),(0.023378,0.01323),(0.023385,0.01314),(0.023378,0.01305),(0.02334,0.01296),(0.02331,0.012934),(0.02326,0.01287),(0.02322,0.01278),(0.023213,0.01269),(0.023211,0.0126),(0.023212,0.01251),(0.023198,0.01242),(0.02319,0.01233),(0.023179,0.01224),(0.023162,0.01215),(0.023172,0.01206),(0.023181,0.01197),(0.023178,0.01188),(0.023181,0.01179),(0.023208,0.0117),(0.02322,0.011664),(0.023239,0.01161),(0.023259,0.01152),(0.023256,0.01143),(0.023255,0.01134),(0.023273,0.01125),(0.023278,0.01116),(0.023265,0.01107),(0.023262,0.01098),(0.023259,0.01089),(0.023233,0.0108),(0.02322,0.01074),(0.023215,0.01071),(0.02322,0.01062),(0.023248,0.01053),(0.023271,0.01044),(0.023268,0.01035),(0.023241,0.01026),(0.02322,0.01017),(0.02319,0.01008),(0.02316,0.00999),(0.02316,0.0099),(0.023178,0.00981),(0.023181,0.00972),(0.023172,0.00963),(0.02316,0.00954),(0.02313,0.00945),(0.023112,0.00936),(0.023096,0.00927),(0.023091,0.00918),(0.02307,0.00909),(0.023059,0.009),(0.02304,0.00891),(0.023014,0.00882),(0.022992,0.00873),(0.02295,0.0086529),(0.022942,0.00864),(0.02289,0.00855),(0.02286,0.008496),(0.022846,0.00846),(0.022812,0.00837),(0.022785,0.00828),(0.02277,0.00822),(0.022762,0.00819),(0.022721,0.0081),(0.02268,0.0080357),(0.022667,0.00801),(0.022635,0.00792),(0.02259,0.0078412),(0.022582,0.00783),(0.02253,0.00774),(0.0225,0.0077),(0.022463,0.00765),(0.02241,0.007587),(0.022387,0.00756),(0.022359,0.00747),(0.02232,0.0074025),(0.022302,0.00738),(0.02224,0.00729),(0.02223,0.0072675),(0.022205,0.0072),(0.02214,0.00711),(0.02205,0.0070425),(0.022025,0.00702),(0.02196,0.00694),(0.021949,0.00693),(0.02187,0.0068775),(0.021806,0.00684),(0.02178,0.0068175),(0.021712,0.00675),(0.02169,0.0067243),(0.021634,0.00666),(0.0216,0.0066214),(0.021549,0.00657),(0.02151,0.006525),(0.02148,0.00648),(0.02142,0.0064029),(0.021407,0.00639),(0.02133,0.006345),(0.02124,0.006309),(0.021222,0.0063),(0.02115,0.00621),(0.02111,0.00612),(0.02106,0.006045),(0.02105,0.00603),(0.02097,0.00597),(0.020919,0.00594),(0.02088,0.0059063),(0.020816,0.00585),(0.02079,0.0058275),(0.0207,0.005796),(0.020628,0.00576),(0.02061,0.0057488),(0.020547,0.00567),(0.02052,0.005643),(0.020441,0.00558),(0.02043,0.005571),(0.020349,0.00549),(0.02034,0.0054771),(0.020273,0.0054),(0.02025,0.005382),(0.02016,0.0053229),(0.020137,0.00531),(0.02007,0.0052425),(0.02005,0.00522),(0.01998,0.0051413),(0.019967,0.00513),(0.01989,0.005085),(0.0198,0.0050469),(0.019787,0.00504),(0.01971,0.004995),(0.01962,0.00495),(0.01953,0.0049125),(0.01944,0.00486),(0.01935,0.004797),(0.019328,0.00477),(0.01926,0.0047121),(0.019223,0.00468),(0.01917,0.004638),(0.01908,0.0046069),(0.01899,0.00459),(0.0189,0.004545),(0.01885,0.0045),(0.01881,0.0044673),(0.018731,0.00441),(0.01872,0.004401),(0.01863,0.0043477),(0.01854,0.004326),(0.018517,0.00432),(0.01845,0.0042975),(0.01836,0.0042557),(0.01832,0.00423),(0.01827,0.0042),(0.01818,0.004152),(0.01816,0.00414),(0.01809,0.004077),(0.018036,0.00405),(0.018,0.0040275),(0.01791,0.0040125),(0.01782,0.004002),(0.01773,0.0039857),(0.017679,0.00396),(0.01764,0.003942),(0.01755,0.003912),(0.017493,0.00387),(0.01746,0.0038373),(0.01737,0.0037882),(0.017348,0.00378),(0.01728,0.0037414),(0.017229,0.00369),(0.01719,0.00366),(0.017122,0.0036),(0.0171,0.0035836),(0.01701,0.003522),(0.01695,0.00351),(0.01692,0.0035018),(0.01683,0.00349),(0.01674,0.0034609),(0.01665,0.0034364),(0.016605,0.00342),(0.01656,0.0033943),(0.01647,0.003366),(0.01638,0.0033429),(0.016365,0.00333),(0.01632,0.00324),(0.01629,0.003195),(0.0162,0.0031613),(0.016155,0.00315),(0.01611,0.0031275),(0.01602,0.00306),(0.01593,0.003006),(0.01584,0.003006),(0.01575,0.003015),(0.01566,0.0029957),(0.01557,0.002979),(0.01548,0.00297),(0.01539,0.00297),(0.0153,0.00297),(0.01521,0.0029829),(0.01512,0.002985),(0.015075,0.00297),(0.01503,0.002925),(0.01494,0.002895),(0.01491,0.00288),(0.01485,0.002835),(0.01476,0.00282),(0.01467,0.00282),(0.01458,0.0028227),(0.01449,0.0028575),(0.0144,0.00286),(0.01431,0.002844),(0.01422,0.002853),(0.014153,0.00288),(0.01413,0.0028856),(0.01404,0.002886),(0.01395,0.00288),(0.01386,0.002871),(0.01377,0.002853),(0.01368,0.0028555),(0.01359,0.002865),(0.0135,0.0028454),(0.01341,0.0028315),(0.01332,0.002835),(0.01323,0.002838),(0.01314,0.0028607),(0.013086,0.00288),(0.01305,0.0028929),(0.01296,0.002895),(0.01287,0.0028864),(0.01278,0.0028912),(0.01269,0.0029084),(0.0126,0.002915),(0.01251,0.002925),(0.01242,0.0029306),(0.01233,0.002935),(0.01224,0.00293),(0.01215,0.002925),(0.01206,0.002946),(0.01197,0.0029571),(0.01188,0.0029507),(0.01179,0.0029536),(0.011754,0.00297),(0.0117,0.0029869),(0.01161,0.0030094),(0.01152,0.003012),(0.01143,0.0030027),(0.01134,0.0030109),(0.01125,0.00303),(0.01116,0.0030488),(0.011115,0.00306),(0.01107,0.0030682),(0.01098,0.0030764),(0.01089,0.0030975),(0.0108,0.0031275),(0.010761,0.00315),(0.01071,0.0031725),(0.01062,0.0031985),(0.01053,0.0032025),(0.01044,0.003195),(0.01035,0.003195),(0.01026,0.0032271),(0.010238,0.00324),(0.01017,0.003285),(0.01008,0.00333),(0.00999,0.0033493),(0.0099,0.0033621),(0.00981,0.0033785),(0.00972,0.00342),(0.00963,0.003465),(0.00954,0.003462),(0.00945,0.0034537),(0.00936,0.0034875),(0.0093355,0.00351),(0.00927,0.0035755),(0.009243,0.0036),(0.00918,0.0036485),(0.0091125,0.00369),(0.00909,0.0037038),(0.009,0.00372),(0.00891,0.0037125),(0.00882,0.0037246),(0.00873,0.00375),(0.008685,0.00378),(0.00864,0.003807),(0.00855,0.003843),(0.00846,0.003843),(0.00837,0.00387),(0.00828,0.0039471),(0.008265,0.00396),(0.00819,0.00401),(0.00813,0.00405),(0.0081,0.0040664),(0.00801,0.0041),(0.00792,0.004104),(0.00783,0.00409),(0.00774,0.00408),(0.00765,0.00414),(0.0076,0.00423),(0.00756,0.00429),(0.007524,0.00432),(0.00747,0.004365),(0.007416,0.00441),(0.00738,0.00444),(0.00729,0.004485),(0.007275,0.0045),(0.0072,0.0045643),(0.007164,0.00459),(0.00711,0.0046093),(0.00702,0.004635),(0.0069525,0.00468),(0.00693,0.004698),(0.00684,0.004752),(0.006795,0.00477),(0.00675,0.0047925),(0.00666,0.004815),(0.00657,0.00483),(0.00648,0.004815),(0.00639,0.004842),(0.006345,0.00486),(0.0063,0.0048729),(0.00621,0.00495),(0.0061714,0.00504),(0.00612,0.00513),(0.0060382,0.00522),(0.00603,0.0052282),(0.0059608,0.00531),(0.00594,0.005337),(0.00587,0.0054),(0.00585,0.0054138),(0.00576,0.005436),(0.00567,0.005475),(0.0056475,0.00549),(0.00558,0.005535),(0.005526,0.00558),(0.00549,0.0056057),(0.0054,0.00567),(0.00531,0.00573),(0.005274,0.00576),(0.00522,0.005805),(0.00516,0.00585),(0.00513,0.0058886),(0.005058,0.00594),(0.00504,0.0059482),(0.00495,0.0059727),(0.00486,0.006),(0.0048262,0.00603),(0.00477,0.0060862),(0.00474,0.00612),(0.00468,0.0061971),(0.0046575,0.00621),(0.00459,0.006264),(0.0045643,0.0063),(0.00452,0.00639),(0.0045,0.006405),(0.00441,0.00648),(0.00432,0.006552),(0.0042975,0.00657),(0.00423,0.006624),(0.00419,0.00666),(0.00414,0.0067243),(0.0041175,0.00675),(0.0040638,0.00684),(0.00405,0.00686),(0.0039927,0.00693),(0.00396,0.006966),(0.0039185,0.00702),(0.00387,0.0070685),(0.0038209,0.00711),(0.00378,0.0071421),(0.0037177,0.0072),(0.00369,0.0072327),(0.003645,0.00729),(0.0036,0.00738),(0.0035182,0.00747),(0.00351,0.0074775),(0.00342,0.00756),(0.00333,0.0076362),(0.00331,0.00765),(0.00324,0.0077073),(0.0032123,0.00774),(0.00315,0.00783),(0.003095,0.00792),(0.0030759,0.00801),(0.00306,0.008055),(0.0030355,0.0081),(0.00297,0.008172),(0.0029536,0.00819),(0.0028964,0.00828),(0.00288,0.0083057),(0.0028391,0.00837),(0.00282,0.00846),(0.0028227,0.00855),(0.0028177,0.00864),(0.0027975,0.00873),(0.00279,0.00876),(0.002772,0.00882),(0.0027327,0.00891),(0.0027,0.00897),(0.002685,0.009),(0.0026654,0.00909),(0.002655,0.00918),(0.0026494,0.00927),(0.0026654,0.00936),(0.0027,0.00941),(0.0027327,0.00945),(0.00279,0.0095025),(0.0028543,0.00954),(0.00288,0.009558),(0.00297,0.0096218),(0.0029829,0.00963),(0.00306,0.009675),(0.00315,0.0097071),(0.003186,0.00972),(0.00324,0.0097445),(0.00333,0.0097892),(0.003375,0.00981),(0.00342,0.0098345),(0.00351,0.0099),(0.0036,0.009966),(0.0036327,0.00999),(0.00369,0.010047),(0.00373,0.01008),(0.00378,0.010115),(0.003852,0.01017),(0.00387,0.01019),(0.00394,0.01026),(0.00396,0.010278),(0.00405,0.010324),(0.004095,0.01035),(0.00414,0.01039),(0.0041963,0.01044),(0.00423,0.010467),(0.00432,0.010522),(0.0043269,0.01053),(0.0043875,0.01062),(0.00441,0.010636),(0.0045,0.010696),(0.0045257,0.01071),(0.00459,0.01076),(0.00462,0.0108),(0.0046688,0.01089),(0.00468,0.010901),(0.00475,0.01098),(0.00477,0.011),(0.004815,0.01107),(0.0048525,0.01116),(0.00486,0.011171),(0.0049085,0.01125),(0.00495,0.01131),(0.0049708,0.01134),(0.00504,0.01143),(0.005085,0.01152),(0.00513,0.01161),(0.0051438,0.0117),(0.0051646,0.01179),(0.0051621,0.01188),(0.0051369,0.01197),(0.00513,0.01206),(0.005145,0.01215),(0.0052,0.01224),(0.00522,0.012285),(0.0052329,0.01233),(0.0052306,0.01242),(0.0052256,0.01251),(0.0052521,0.0126),(0.0052875,0.01269),(0.0052907,0.01278),(0.0052773,0.01287),(0.0052725,0.01296),(0.0052725,0.01305),(0.0052725,0.01314),(0.0052527,0.01323),(0.00522,0.013302),(0.0052087,0.01332),(0.00513,0.01341),(0.00504,0.0135),(0.0049846,0.01359),(0.00495,0.01364),(0.0049173,0.01368),(0.00486,0.013743),(0.0048214,0.01377),(0.00477,0.013794),(0.00468,0.013842),(0.004662,0.01386),(0.00459,0.013925),(0.004563,0.01395),(0.0045,0.014007),(0.0044486,0.01404),(0.00441,0.014058),(0.00432,0.014082),(0.00423,0.01411),(0.004194,0.01413),(0.00414,0.014149),(0.00405,0.01422),(0.00396,0.014268),(0.0038829,0.01431),(0.00387,0.014315),(0.00378,0.014336),(0.00369,0.014361),(0.0036,0.014378),(0.00351,0.0144),(0.00342,0.014436),(0.0033464,0.01449),(0.00333,0.014505),(0.003255,0.01458),(0.00324,0.01459),(0.00315,0.014651),(0.0031114,0.01467),(0.00306,0.014693),(0.00297,0.014722),(0.0029057,0.01476),(0.00288,0.014773),(0.00279,0.014825),(0.002763,0.01485),(0.0027,0.014887),(0.00261,0.01494),(0.00252,0.014979),(0.002448,0.01503),(0.00243,0.015044),(0.0023538,0.01512),(0.00234,0.01515),(0.0023073,0.01521),(0.0022827,0.0153),(0.0022875,0.01539),(0.002295,0.01548),(0.00231,0.01557),(0.00233,0.01566),(0.00234,0.015682),(0.002358,0.01575),(0.0023925,0.01584),(0.002421,0.01593),(0.00243,0.01602),(0.0024356,0.01611),(0.0024621,0.0162),(0.00252,0.01629),(0.0025546,0.01638),(0.002592,0.01647),(0.00261,0.016506),(0.0026293,0.01656),(0.002655,0.01665),(0.0026723,0.01674),(0.0027,0.016791),(0.002727,0.01683),(0.00279,0.016909),(0.0028012,0.01692),(0.00288,0.01701),(0.002916,0.0171),(0.00294,0.01719),(0.00297,0.01725),(0.002988,0.01728),(0.00306,0.017352),(0.0030764,0.01737),(0.0031114,0.01746),(0.00315,0.01755),(0.0031915,0.01764),(0.00324,0.017697),(0.00328,0.01773),(0.00333,0.017775),(0.003375,0.01782),(0.00342,0.01791),(0.0034714,0.018),(0.00351,0.018034),(0.00356,0.01809),(0.0036,0.01813),(0.0036563,0.01818),(0.00369,0.018225),(0.0037238,0.01827),(0.00378,0.018315),(0.003855,0.01836),(0.00387,0.018373),(0.00396,0.018437),(0.0039729,0.01845),(0.00405,0.018527),(0.00406,0.01854),(0.00413,0.01863),(0.00414,0.018641),(0.00421,0.01872),(0.00423,0.01874),(0.0042785,0.01881),(0.00432,0.01887),(0.004365,0.0189),(0.00441,0.018927),(0.0045,0.018972),(0.00452,0.01899),(0.00459,0.019047),(0.0046414,0.01908),(0.00468,0.019114),(0.00477,0.019152),(0.004815,0.01917),(0.00486,0.019192),(0.00492,0.01926),(0.00495,0.019299),(0.00499,0.01935),(0.00504,0.019414),(0.00507,0.01944),(0.00513,0.019512),(0.0051413,0.01953),(0.00522,0.019593),(0.00531,0.01962),(0.0054,0.019628),(0.00549,0.01964),(0.0055687,0.01971),(0.00558,0.019723),(0.00564,0.0198),(0.00567,0.019834),(0.0057263,0.01989),(0.00576,0.019917),(0.00585,0.01998),(0.00592,0.02007),(0.00594,0.020096),(0.00603,0.02015),(0.0060525,0.02016),(0.00612,0.020194),(0.00621,0.020232),(0.0063,0.02025),(0.00639,0.020288),(0.00646,0.02034),(0.00648,0.020363),(0.00657,0.020423),(0.0065925,0.02043),(0.00666,0.020469),(0.00675,0.020505),(0.00684,0.02052),(0.00693,0.02052),(0.00702,0.02052),(0.007065,0.02061),(0.00711,0.020677),(0.007128,0.0207),(0.0072,0.020745),(0.00729,0.02078),(0.0073125,0.02079),(0.00738,0.020817),(0.00747,0.02085),(0.007524,0.02088),(0.00756,0.020898),(0.00765,0.020925),(0.0077143,0.02097),(0.00774,0.02099),(0.00783,0.02104),(0.007875,0.02106),(0.00792,0.02108),(0.00801,0.021087),(0.0081,0.021105),(0.00819,0.02115),(0.00828,0.021186),(0.00837,0.021232),(0.0083925,0.02124),(0.00846,0.021279),(0.00855,0.021317),(0.0085725,0.02133),(0.00864,0.021384),(0.00873,0.021407),(0.00882,0.02142),(0.00891,0.021465),(0.009,0.021502),(0.009015,0.02151),(0.00909,0.021548),(0.00918,0.021572),(0.00927,0.021593),(0.009288,0.0216),(0.00936,0.021636),(0.00945,0.021664),(0.00948,0.02169),(0.00954,0.02173),(0.00963,0.02178),(0.00972,0.021819),(0.00981,0.02184),(0.0099,0.02186),(0.0099225,0.02187),(0.00999,0.021897),(0.01008,0.021912),(0.01017,0.02193),(0.010221,0.02196),(0.01026,0.021983),(0.01035,0.022027),(0.01044,0.02203),(0.01053,0.02199),(0.01062,0.022024),(0.01065,0.02205),(0.01071,0.022076),(0.0108,0.022085),(0.01089,0.022095),(0.01098,0.022124),(0.01104,0.02214),(0.01107,0.022148),(0.01116,0.022163),(0.01125,0.022175),(0.01134,0.022182),(0.01143,0.022185),(0.01152,0.022188),(0.01161,0.022182),(0.0117,0.022185),(0.01179,0.022219),(0.011835,0.02223),(0.01188,0.022242),(0.01197,0.022247),(0.01206,0.022256),(0.01215,0.022253),(0.01224,0.022238),(0.01233,0.022263),(0.01242,0.022271),(0.01251,0.022263),(0.0126,0.022263),(0.01269,0.022267),(0.01278,0.022275),(0.01287,0.02227),(0.01296,0.022246),(0.01305,0.022248),(0.01314,0.022272),(0.01323,0.022253),(0.01332,0.022239),(0.013365,0.02223),(0.01341,0.022221),(0.0135,0.02221),(0.01359,0.02222),(0.01368,0.02222),(0.01377,0.022221),(0.01386,0.022214),(0.01395,0.0222),(0.01404,0.022189),(0.01413,0.022165),(0.01422,0.02214),(0.01431,0.022148),(0.0144,0.02214),(0.01449,0.022121),(0.01458,0.022108),(0.01467,0.022085),(0.01476,0.022082),(0.01485,0.022069),(0.014918,0.02205),(0.01494,0.022044),(0.01503,0.022017),(0.01512,0.021985),(0.01521,0.021975),(0.0153,0.02196),(0.01539,0.021944),(0.01548,0.021915),(0.01557,0.021903),(0.01566,0.021912),(0.01575,0.021912),(0.01584,0.021903),(0.01593,0.02187),(0.01602,0.021831),(0.01611,0.021801),(0.016155,0.02178),(0.0162,0.021753),(0.01629,0.021708),(0.01635,0.02169),(0.01638,0.021682),(0.01647,0.021635),(0.016545,0.0216),(0.01656,0.021594),(0.01665,0.021574),(0.01674,0.021558),(0.01683,0.021535),(0.016884,0.02151),(0.01692,0.02149),(0.01701,0.021431),(0.017025,0.02142),(0.0171,0.021379),(0.01719,0.02136),(0.01725,0.02133),(0.01728,0.021318),(0.01737,0.021285),(0.01746,0.021249),(0.017483,0.02124),(0.01755,0.021218),(0.01764,0.02121),(0.01773,0.021198),(0.01782,0.021175),(0.01785,0.02115),(0.01791,0.021108),(0.01798,0.02106),(0.018,0.021048),(0.01809,0.021019),(0.018167,0.02097),(0.01818,0.020961),(0.01827,0.02091),(0.018324,0.02088),(0.01836,0.020864),(0.01845,0.020828),(0.018506,0.02079),(0.01854,0.020767),(0.01863,0.020733),(0.01872,0.0207),(0.01881,0.020633),(0.018836,0.02061),(0.0189,0.020554),(0.01899,0.02052),(0.01908,0.020469),(0.019125,0.02043),(0.01917,0.020403),(0.019233,0.02034),(0.01926,0.020313),(0.01935,0.020268),(0.019395,0.02025),(0.01944,0.020234),(0.01953,0.02016),(0.01962,0.02009),(0.019642,0.02007),(0.01971,0.020003),(0.019733,0.01998),(0.0198,0.019926),(0.01984,0.01989),(0.01989,0.01984),(0.01995,0.0198),(0.01998,0.019784),(0.02007,0.019738),(0.020115,0.01971),(0.02016,0.019684),(0.020242,0.01962),(0.02025,0.019612),(0.02034,0.019538),(0.020349,0.01953),(0.02043,0.019449),(0.020438,0.01944),(0.02052,0.019358),(0.02053,0.01935),(0.02061,0.01927),(0.02062,0.01926),(0.0207,0.019188),(0.02072,0.01917),(0.02079,0.019113),(0.020841,0.01908),(0.02088,0.019041),(0.020916,0.01899),(0.02097,0.01893),(0.021009,0.0189),(0.02106,0.018855),(0.021093,0.01881),(0.02115,0.018747),(0.021184,0.01872),(0.02124,0.018683),(0.021282,0.01863),(0.02133,0.01854),(0.021406,0.01845),(0.02142,0.018434),(0.021488,0.01836),(0.02151,0.018333),(0.02158,0.01827),(0.0216,0.018252),(0.021672,0.01818),(0.02169,0.01816),(0.021743,0.01809),(0.02178,0.018026),(0.021795,0.018),(0.02187,0.01791),(0.021937,0.01782),(0.02196,0.017784),(0.022005,0.01773),(0.02205,0.017653),(0.02206,0.01764),(0.022122,0.01755),(0.02214,0.017524),(0.022185,0.01746),(0.02223,0.017385),(0.02224,0.01737),(0.02231,0.01728),(0.02232,0.017265),(0.022361,0.01719),(0.022387,0.0171),(0.02241,0.01701),(0.022434,0.01692),(0.022458,0.01683),(0.0225,0.01674),(0.022584,0.01665),(0.02259,0.016641),(0.022658,0.01656),(0.02268,0.01653),(0.022734,0.01647),(0.02277,0.016419),(0.0228,0.01638),(0.022852,0.01629),(0.02286,0.01626),(0.022878,0.0162),(0.022896,0.01611),(0.022922,0.01602),(0.022944,0.01593),(0.02295,0.015917),(0.022995,0.01584),(0.023034,0.01575),(0.02304,0.015739),(0.023085,0.01566),(0.02313,0.01559),(0.023156,0.01557),(0.0232,0.01548),(0.023204,0.01539),(0.02319,0.0153),(0.023213,0.01521),(0.02322,0.015195),(0.023258,0.01512),(0.023278,0.01503),(0.023304,0.01494),(0.023305,0.01485),(0.02331,0.014835),(0.023351,0.01476),(0.023385,0.01467),(0.023392,0.01458),(0.023375,0.01449),(0.02338,0.0144),(0.0234,0.01431),(0.023418,0.01422),(0.023464,0.01413),(0.023465,0.01404),(0.023462,0.01395),(0.023465,0.01386),(0.023445,0.01377),(0.023425,0.01368),(0.023416,0.01359),(0.023415,0.0135),(0.023416,0.01341),(0.0234,0.013365),(0.0234,0.013365)
	))
######################################################################################################
mdb.models[modelname].Part(dimensionality=TWO_D_PLANAR, name=PartName, type=
    DEFORMABLE_BODY)
mdb.models[modelname].parts[PartName].BaseShell(sketch=
    mdb.models[modelname].sketches['__profile__'])
del mdb.models[modelname].sketches['__profile__']

#Define rind-pith boundary
mdb.models[modelname].ConstrainedSketch(gridSpacing=0.001, name='__profile__'
    , sheetSize=0.066, transform=
    mdb.models[modelname].parts['Stalk'].MakeSketchTransform(
    sketchPlane=mdb.models[modelname].parts['Stalk'].faces[0], 
    sketchPlaneSide=SIDE1, sketchOrientation=RIGHT, origin=(0., 0., 
    0.0)))
mdb.models[modelname].sketches['__profile__'].sketchOptions.setValues(
    decimalPlaces=3)
mdb.models[modelname].parts['Stalk'].projectReferencesOntoSketch(filter=
    COPLANAR_EDGES, sketch=mdb.models[modelname].sketches['__profile__'])

####################### copy / paste in the x-y data for the inner spline here #######################
mdb.models[modelname].sketches['__profile__'].Spline(points=(
	(0.022337,0.013533),(0.022306,0.013289),(0.02227,0.013051),(0.022234,0.012809),(0.022208,0.012559),(0.022189,0.01229),(0.022178,0.012017),(0.022175,0.011746),(0.022178,0.01148),(0.022184,0.011224),(0.022189,0.01098),(0.022192,0.010746),(0.02219,0.010523),(0.022182,0.010308),(0.022168,0.010101),(0.022148,0.0099008),(0.022121,0.0097054),(0.022087,0.0095136),(0.022045,0.0093233),(0.021993,0.0091329),(0.02193,0.0089413),(0.021857,0.0087495),(0.021774,0.0085596),(0.021681,0.0083745),(0.021579,0.0081966),(0.021468,0.0080268),(0.021347,0.0078638),(0.021215,0.0077053),(0.021072,0.0075483),(0.020918,0.0073908),(0.020756,0.0072318),(0.020586,0.0070717),(0.020413,0.0069115),(0.020236,0.0067527),(0.020059,0.0065966),(0.019882,0.006445),(0.019706,0.0062993),(0.019532,0.0061609),(0.01936,0.0060313),(0.019191,0.0059106),(0.019023,0.0057981),(0.018855,0.0056924),(0.018686,0.005592),(0.018514,0.0054955),(0.01834,0.0054019),(0.018163,0.0053107),(0.017984,0.0052217),(0.017803,0.0051342),(0.017621,0.005047),(0.017436,0.0049592),(0.017251,0.0048698),(0.017065,0.0047784),(0.01688,0.0046856),(0.016698,0.0045924),(0.01652,0.0045003),(0.016362,0.0044165),(0.016184,0.004329),(0.015989,0.0042421),(0.015784,0.0041603),(0.015573,0.0040871),(0.015362,0.0040252),(0.015155,0.0039768),(0.014959,0.0039435),(0.014781,0.003926),(0.014579,0.0039094),(0.01437,0.0038989),(0.014154,0.0038937),(0.01393,0.0038932),(0.0137,0.0038966),(0.013463,0.0039033),(0.013223,0.0039129),(0.01298,0.0039249),(0.012736,0.0039393),(0.012495,0.0039558),(0.012258,0.0039747),(0.012026,0.0039961),(0.011802,0.0040205),(0.011583,0.0040484),(0.011371,0.0040805),(0.011163,0.0041173),(0.010958,0.0041594),(0.010753,0.0042071),(0.010548,0.0042605),(0.010341,0.0043191),(0.010133,0.0043825),(0.0099246,0.0044498),(0.0097166,0.0045198),(0.0095107,0.0045918),(0.0093087,0.004665),(0.0091122,0.0047391),(0.0089219,0.0048144),(0.0087377,0.0048915),(0.0085586,0.0049713),(0.0083827,0.0050547),(0.008208,0.0051421),(0.008033,0.0052332),(0.0078573,0.0053274),(0.0076813,0.0054235),(0.0075064,0.0055206),(0.007334,0.0056184),(0.0071648,0.0057172),(0.006999,0.0058179),(0.0068357,0.0059216),(0.0066734,0.0060292),(0.0065109,0.0061409),(0.0063475,0.0062564),(0.006183,0.0063747),(0.0060181,0.0064953),(0.0058537,0.0066179),(0.0056911,0.0067428),(0.0055315,0.0068706),(0.0053758,0.0070023),(0.0052244,0.007139),(0.0050772,0.0072808),(0.0049324,0.0074265),(0.0047873,0.0075731),(0.0046405,0.0077179),(0.0044927,0.0078604),(0.0043482,0.0080028),(0.0042152,0.0081512),(0.004105,0.0083119),(0.0040303,0.0084874),(0.0040003,0.0086728),(0.0040205,0.0088578),(0.0040911,0.0090313),(0.0042083,0.009186),(0.0043646,0.0093218),(0.0045488,0.0094469),(0.0047488,0.009574),(0.0049544,0.0097159),(0.0051565,0.0098807),(0.0053495,0.010072),(0.0055303,0.010288),(0.0056976,0.010528),(0.0058504,0.01079),(0.0059869,0.011074),(0.0061039,0.011387),(0.0061963,0.011717),(0.00626,0.012053),(0.0062925,0.012385),(0.0062929,0.012707),(0.0062655,0.01301),(0.0062059,0.013302),(0.0061099,0.013591),(0.0059739,0.013885),(0.0057952,0.01417),(0.0055771,0.014437),(0.0053275,0.014674),(0.0050589,0.014873),(0.0047884,0.015024),(0.0045349,0.01513),(0.0042862,0.015208),(0.0040495,0.015311),(0.0038438,0.015448),(0.0036856,0.015621),(0.0035853,0.015824),(0.0035477,0.01604),(0.003572,0.016248),(0.0036531,0.016425),(0.0037519,0.016582),(0.0038573,0.016744),(0.0039688,0.016899),(0.0040848,0.017051),(0.004206,0.017203),(0.0043349,0.017356),(0.0044733,0.01751),(0.0046216,0.017665),(0.0047783,0.017817),(0.0049402,0.017966),(0.0051037,0.018108),(0.0052663,0.018245),(0.0054265,0.018374),(0.0055844,0.018498),(0.0057407,0.018617),(0.0058967,0.018734),(0.0060536,0.018848),(0.0062122,0.01896),(0.0063735,0.01907),(0.0065379,0.019177),(0.0067058,0.01928),(0.0068772,0.01938),(0.0070521,0.019477),(0.0072299,0.019571),(0.00741,0.019663),(0.0075917,0.019752),(0.0077747,0.019839),(0.0079593,0.019926),(0.0081463,0.020011),(0.0083366,0.020095),(0.0085311,0.02018),(0.00873,0.020265),(0.0089327,0.020351),(0.0091378,0.020437),(0.0093432,0.020522),(0.0095469,0.020605),(0.0097468,0.020684),(0.009942,0.020759),(0.010132,0.020828),(0.010319,0.02089),(0.010505,0.020946),(0.010691,0.020996),(0.01088,0.02104),(0.011075,0.021079),(0.011276,0.021113),(0.011484,0.021142),(0.011699,0.021167),(0.011919,0.021187),(0.012144,0.021202),(0.012372,0.021212),(0.012602,0.021217),(0.012833,0.021217),(0.013065,0.02121),(0.013298,0.021198),(0.013533,0.021181),(0.01377,0.021159),(0.014009,0.021132),(0.014249,0.0211),(0.014488,0.021064),(0.014725,0.021025),(0.014957,0.020982),(0.015181,0.020935),(0.015397,0.020884),(0.015605,0.02083),(0.015804,0.020772),(0.015998,0.020709),(0.016188,0.020644),(0.016377,0.020575),(0.016564,0.020504),(0.016751,0.020432),(0.016936,0.020359),(0.017119,0.020286),(0.017298,0.020213),(0.017472,0.020138),(0.017643,0.020061),(0.01781,0.01998),(0.017975,0.019895),(0.018139,0.019805),(0.018302,0.019709),(0.018465,0.019608),(0.018631,0.019499),(0.018799,0.019384),(0.01897,0.019262),(0.019146,0.019132),(0.019323,0.018996),(0.019501,0.018854),(0.019676,0.018708),(0.019849,0.018559),(0.020016,0.018408),(0.020179,0.018253),(0.020337,0.018096),(0.020491,0.017933),(0.020641,0.017766),(0.020787,0.017593),(0.020928,0.017414),(0.021063,0.017232),(0.021191,0.017046),(0.021311,0.016859),(0.021424,0.016673),(0.021529,0.016488),(0.021629,0.016307),(0.021723,0.016128),(0.021812,0.015953),(0.021892,0.015797),(0.021974,0.015619),(0.022055,0.015424),(0.022133,0.015216),(0.022203,0.015018),(0.022266,0.014814),(0.022311,0.014567),(0.022346,0.014312),(0.022361,0.014048),(0.022357,0.013786),(0.022337,0.013533)
	))
######################################################################################################
mdb.models[modelname].parts['Stalk'].PartitionFaceBySketch(faces=
    mdb.models[modelname].parts['Stalk'].faces.getSequenceFromMask(('[#1 ]', 
    ), ), sketch=mdb.models[modelname].sketches['__profile__'])
del mdb.models[modelname].sketches['__profile__']

#Mesh stalk
mdb.models[modelname].parts[PartName].seedPart(deviationFactor=
    0.1, minSizeFactor=0.1, size=SeedSize)
mdb.models[modelname].parts[PartName].setMeshControls(algorithm=
    MEDIAL_AXIS, regions=
    mdb.models[modelname].parts[PartName].faces.getSequenceFromMask(
    ('[#1 ]', ), ))
mdb.models[modelname].parts[PartName].generateMesh()

#Define rind material and section
mdb.models[modelname].Material(name='Rind')
mdb.models[modelname].materials['Rind'].Elastic(table=((rindE, 0.25), ))
mdb.models[modelname].HomogeneousSolidSection(material='Rind', name='Rind', 
    thickness=None)
	
#Define pith material and section
mdb.models[modelname].Material(name='Pith')
mdb.models[modelname].materials['Pith'].Elastic(table=((pithE, 0.25), ))
mdb.models[modelname].HomogeneousSolidSection(material='Pith', name='Pith', 
    thickness=None)
	
#Assign rind material region
mdb.models[modelname].parts['Stalk'].Set(faces=
    mdb.models[modelname].parts['Stalk'].faces.getSequenceFromMask(('[#2 ]', ), 
    ), name='Set-2')
mdb.models[modelname].parts['Stalk'].SectionAssignment(offset=0.0, offsetField=
    '', offsetType=MIDDLE_SURFACE, region=
    mdb.models[modelname].parts['Stalk'].sets['Set-2'], sectionName='Rind', 
    thicknessAssignment=FROM_SECTION)

#Assign pith material region
mdb.models[modelname].parts['Stalk'].Set(faces=
    mdb.models[modelname].parts['Stalk'].faces.getSequenceFromMask(('[#1 ]', ), 
    ), name='Set-3')
mdb.models[modelname].parts['Stalk'].SectionAssignment(offset=0.0, offsetField=
    '', offsetType=MIDDLE_SURFACE, region=
    mdb.models[modelname].parts['Stalk'].sets['Set-3'], sectionName='Pith', 
    thicknessAssignment=FROM_SECTION)

#Create Assembly
mdb.models[modelname].rootAssembly.DatumCsysByDefault(CARTESIAN)
mdb.models[modelname].rootAssembly.Instance(dependent=ON, name=
    InstanceName, part=
    mdb.models[modelname].parts[PartName])
mdb.models[modelname].rootAssembly.instances[InstanceName].translate(
    vector=(0.0, 0.0, 0.0))
	
#Define reference point locations
mdb.models[modelname].rootAssembly.ReferencePoint(point=(RP1x, RP1y, 0.0))
mdb.models[modelname].rootAssembly.ReferencePoint(point=(RP2x, RP2y, 0.0))

#Define loading coordinate system
mdb.models[modelname].rootAssembly.DatumCsysByThreePoints(coordSysType=
    CARTESIAN, line2=(1.3e-05, 0.0, 0.0), name='LoadingCSYS', origin=(RP1x, 
    RP1y, 0.0), point1=(RP2x, RP2y, 0.0))

#Create analysis step
mdb.models[modelname].StaticStep(name='Step-1', previous='Initial')

#Create fixed boundary condition
mdb.models[modelname].rootAssembly.Set(name='Set-1', referencePoints=(
    mdb.models[modelname].rootAssembly.referencePoints[5], ))
mdb.models[modelname].DisplacementBC(amplitude=UNSET, createStepName='Step-1', 
    distributionType=UNIFORM, fieldName='', fixed=OFF, localCsys=None, name=
    'BC-1', region=mdb.models[modelname].rootAssembly.sets['Set-1'], u1=0.0, 
    u2=0.0, ur3=0.0)

#Create loaded boundary condition
mdb.models[modelname].rootAssembly.Set(name='Set-2', referencePoints=(
    mdb.models[modelname].rootAssembly.referencePoints[4], ))
mdb.models[modelname].DisplacementBC(amplitude=UNSET, createStepName='Step-1', 
    distributionType=UNIFORM, fieldName='', fixed=OFF, localCsys=
    mdb.models[modelname].rootAssembly.datums[6], name='BC-2', region=
    mdb.models[modelname].rootAssembly.sets['Set-2'], u1=PlatenMovement, u2=UNSET, ur3=
    UNSET)

#Create fake contact constraints
mdb.models[modelname].rootAssembly.Set(name='m_Set-3', referencePoints=(
    mdb.models[modelname].rootAssembly.referencePoints[4], ))
mdb.models[modelname].Coupling(controlPoint=
    mdb.models[modelname].rootAssembly.sets['m_Set-3'], couplingType=
    DISTRIBUTING, influenceRadius=influence, localCsys=None, name='Constraint-1', 
    surface=
    mdb.models[modelname].rootAssembly.instances['Stalk-1'].sets['Set-2'], u1=
    ON, u2=ON, ur3=ON, weightingMethod=UNIFORM)
mdb.models[modelname].rootAssembly.Set(name='m_Set-4', referencePoints=(
    mdb.models[modelname].rootAssembly.referencePoints[5], ))
mdb.models[modelname].Coupling(controlPoint=
    mdb.models[modelname].rootAssembly.sets['m_Set-4'], couplingType=
    DISTRIBUTING, influenceRadius=influence, localCsys=None, name='Constraint-2', 
    surface=
    mdb.models[modelname].rootAssembly.instances['Stalk-1'].sets['Set-2'], u1=
    ON, u2=ON, ur3=ON, weightingMethod=UNIFORM)

#Create job
mdb.Job(atTime=None, contactPrint=OFF, description='', echoPrint=OFF, 
    explicitPrecision=SINGLE, getMemoryFromAnalysis=True, historyPrint=OFF, 
    memory=90, memoryUnits=PERCENTAGE, model=modelname, modelPrint=OFF, 
    multiprocessingMode=DEFAULT, name=jobname, nodalOutputPrecision=SINGLE, 
    numCpus=1, numGPUs=0, queue=None, resultsFormat=ODB, scratch='', type=
    ANALYSIS, userSubroutine='', waitHours=0, waitMinutes=0)
	
#Run job and wait to completion
myJob=mdb.jobs[jobname]
mdb.jobs[jobname].submit(consistencyChecking=OFF)
myJob.waitForCompletion()

#Query reaction force
odb = openOdb(path=odbname)
numFrame=odb.steps['Step-1'].frames[-1]
RForce=numFrame.fieldOutputs['RF']
regS1 = odb.rootAssembly.nodeSets['SET-2']
FX = RForce.getSubset(region=regS1).values[0].data[0]
FY = RForce.getSubset(region=regS1).values[0].data[1]

#Write to file and close
FileResultsX=open(filename,'a')
FileResultsX.write('%10.8E\t' % (ID))
FileResultsX.write('%10.8E\t' % (case_no))
FileResultsX.write('%10.8E\t' % (FX))
FileResultsX.write('%10.8E\n' % (FY))
odb.close()	
FileResultsX.close()
}